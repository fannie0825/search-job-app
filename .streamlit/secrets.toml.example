# =============================================================================
# CareerLens - Streamlit Secrets Configuration
# =============================================================================
# Copy this file to 'secrets.toml' and replace placeholder values with your keys.
# For Streamlit Cloud: Add these in App Settings > Secrets
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Azure OpenAI Configuration
# -----------------------------------------------------------------------------
# Used for: Resume analysis, job matching, text generation
# Get these from: Azure Portal (https://portal.azure.com)
#
# Note: If your endpoint ends with /openai, you can include it or not - 
# the app handles both formats automatically.
# Example formats that work:
#   - "https://your-resource.openai.azure.com"
#   - "https://your-resource.openai.azure.com/openai"
#   - "https://hkust.azure-api.net" (Azure API Management)

AZURE_OPENAI_API_KEY = "your-azure-openai-api-key"
AZURE_OPENAI_ENDPOINT = "https://your-resource.openai.azure.com"

# -----------------------------------------------------------------------------
# REQUIRED: RapidAPI Configuration  
# -----------------------------------------------------------------------------
# Used for: Job search via Indeed Scraper API
# Get this from: https://rapidapi.com/developer/dashboard
#
# IMPORTANT: You must subscribe to the Indeed Scraper API on RapidAPI
# API endpoint used: https://indeed-scraper-api.p.rapidapi.com/api/job

RAPIDAPI_KEY = "your-rapidapi-key"

# -----------------------------------------------------------------------------
# OPTIONAL: Performance Tuning
# -----------------------------------------------------------------------------
# These have sensible defaults but can be customized

# Rate limiting for RapidAPI (requests per minute)
# Free tier: 3, Basic: 10-20, Pro: 100+
# Check your limits: https://rapidapi.com/developer/billing
RAPIDAPI_MAX_REQUESTS_PER_MINUTE = 3

# Maximum jobs to fetch and analyze per search
# Higher = more comprehensive but uses more API calls
# MAX_JOBS_TO_INDEX = 25

# Embedding batch size (for Azure OpenAI)
# Higher = faster but may hit rate limits
# EMBEDDING_BATCH_SIZE = 15

# Delay between embedding batches (seconds)
# Increase if hitting rate limits
# EMBEDDING_BATCH_DELAY = 0.5

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# FOR LOCAL DEVELOPMENT:
# 1. Copy this file: cp secrets.toml.example secrets.toml
# 2. Edit secrets.toml with your actual API keys
# 3. Run: streamlit run app.py
#
# FOR STREAMLIT CLOUD:
# 1. Go to your app's settings in Streamlit Cloud
# 2. Click "Secrets" in the left sidebar  
# 3. Paste your secrets in TOML format:
#
#    AZURE_OPENAI_API_KEY = "your-actual-key"
#    AZURE_OPENAI_ENDPOINT = "https://your-resource.openai.azure.com"
#    RAPIDAPI_KEY = "your-actual-rapidapi-key"
#
# =============================================================================
# TROUBLESHOOTING
# =============================================================================
#
# "No jobs found" error:
#   - Verify RAPIDAPI_KEY is correct
#   - Check you're subscribed to Indeed Scraper API on RapidAPI
#   - Wait 1-2 minutes (rate limiting)
#   - Try broader search terms
#
# "Authentication Failed" error:
#   - Check AZURE_OPENAI_API_KEY is correct
#   - Verify your Azure OpenAI resource is active
#
# "Rate Limit Exceeded" error:
#   - Wait a few minutes before retrying
#   - Reduce RAPIDAPI_MAX_REQUESTS_PER_MINUTE
#   - Consider upgrading your RapidAPI subscription
#
# =============================================================================
